# Video Streaming with Encrypted One-to-One Chat

This project implements a simple video streaming application using Python sockets and OpenCV. It consists of a server component (`210010056_server.py`) and a client component (`210010056_client.py`) for streaming videos over a local network.

## Demo Video Link

[Video Link](https://drive.google.com/file/d/173rMgiqJ1rDN0swpK1h7Rx1n17ui-yl3/view?usp=sharing)

## Usage
0. **Dependencies**
    ```
    pip install -r requirements.txt
    ```
1. **Server Setup**:
    - Ensure that the `videos/` directory contains the video files to be streamed and an empty `chunks/` directory.
    - Run the following command to start the server
    ```sh
    python 210010056_server.py
    ```

2. **Client Setup**:
    - Run the following command to start the client
    ```sh
    python 210010056_client.py
    ```

## Project Structure

- **server.py**: This file contains the server-side code for handling client connections, streaming videos, and sending messages to clients.

- **client.py**: This file contains the client-side code for connecting to the server, requesting video streams, and sending and receiving messages.

- **videos/**: This directory contains the video files available for streaming. Video files should be stored in this directory to be accessible by the server.

- **chunks/**: This directory is used to store the video chunks generated by splitting the original videos into three segments of different resolutions.

- **config.ini**: Using this file you can set three custom resolutions for the video. By default, the three resolutions are 144p, 720p and 1440p.


## General Working of files

1. Server: The Server file manages the server-side operations. It primarily consists of a main thread that listens for incoming connections from clients. Upon receiving a connection request, it spawns a new thread to handle communication with that client. This new thread is responsible for tasks such as streaming video, sending messages to other clients. Also there is client_lock to be used while updating client_dict.

2. Client: The Client file handles the client-side operations. It comprises a main thread that listens for user inputs and interacts with the user interface. Additionally, there is another thread responsible for receiving messages from the server. Upon receiving messages, this thread processes them appropriately, either by handling them directly or by placing them in a message queue for later processing.

## Dependencies

- Python 3.6+
- opencv-python (`cv2`)
- pycryptodome (for RSA encryption)
- configparser